{
  "buildCommand": "npm run build",
  "outputDirectory": "public",
  "functions": {
    "api/gateway.js": {
      "includeFiles": "packages/mcp-server/dist/**",
      "memory": 1024,
      "maxDuration": 120
    }
  },
  "routes": [
    {
      "src": "/(.*)",
      "methods": ["OPTIONS"],
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Methods": "GET,POST,OPTIONS,DELETE",
        "Access-Control-Allow-Headers": "Content-Type, Authorization, X-Requested-With",
        "Access-Control-Max-Age": "86400"
      },
      "dest": "/api/gateway.js"
    },
    {
      "src": "/(.*)",
      "headers": {
        "Access-Control-Allow-Origin": "*",
        "Access-Control-Allow-Methods": "GET,POST,OPTIONS,DELETE",
        "Access-Control-Allow-Headers": "Content-Type, Authorization, X-Requested-With"
      },
      "continue": true
    },
    { "src": "/admin", "dest": "/api/gateway.js" },
    { "src": "/admin/components", "dest": "/api/gateway.js" },
    { "src": "/components", "dest": "/api/gateway.js" },
    { "src": "/components/.*", "dest": "/api/gateway.js" },
    { "src": "/files/upload", "dest": "/api/gateway.js" },
    { "src": "/tools", "dest": "/api/gateway.js" },
    { "src": "/tools/.*", "dest": "/api/gateway.js" },
    { "src": "/health", "dest": "/api/gateway.js" },
    { "src": "/parse-excel", "dest": "/api/gateway.js" }
  ]
}
